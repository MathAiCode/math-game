<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù† â€“ Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</title>
  <style>
    body { margin:0; font-family: "Noto Naskh Arabic", Arial, sans-serif; background:#0f172a; display:flex; justify-content:center; align-items:center; height:100vh; }
    .phone { width:min(100vw,420px); aspect-ratio:9/16; background:#f8fafc; border-radius:20px; overflow:hidden; box-shadow:0 8px 30px rgba(0,0,0,.4); display:flex; flex-direction:column; }
    header { background:#0ea5e9; color:#fff; padding:10px; text-align:center; font-weight:700; display:flex; flex-direction:column; align-items:center; gap:4px; font-size:13px; line-height:1.4; }
    header img { max-height:60px; width:auto; object-fit:contain; margin-bottom:4px; }
    header .subtitle { font-size:13px; font-weight:600; color:#e0f2fe; }

    .topbar { display:flex; gap:8px; align-items:center; justify-content:space-between; padding:8px 10px; background:#eef2f7; }
    .pill { background:#e2e8f0; border-radius:999px; padding:6px 10px; font-weight:700; font-size:13px; }
    #progressWrap{ height:6px; background:#e5e7eb; border-radius:999px; margin:0 10px 8px; overflow:hidden; }
    #progress{ height:100%; width:0%; background:#0ea5e9; transition:width .25s ease; }

    .board { flex:1; display:flex; gap:10px; padding:10px; }
    .col { flex:1; display:grid; grid-auto-rows:1fr; gap:8px; }

    .card { background:#fff; border:2px solid #e2e8f0; border-radius:12px; padding:10px; text-align:center; font-size:15px; font-weight:800; user-select:none; box-shadow:0 3px 10px rgba(0,0,0,.06); }
    .card.small { font-weight:900; }
    .card.tap { cursor:pointer; }
    .card.selected { border-color:#3b82f6; background:#eff6ff; }
    .card.matched { background:#dcfce7 !important; border-color:#16a34a !important; color:#065f46; box-shadow:0 6px 18px rgba(22,163,74,.2); }
    .bad { animation: shake .35s linear; }

    @keyframes shake {
      10% { transform: translateX(-4px); }
      20% { transform: translateX(4px); }
      30% { transform: translateX(-4px); }
      40% { transform: translateX(4px); }
      50% { transform: translateX(-2px); }
      60% { transform: translateX(2px); }
      70% { transform: translateX(-1px); }
      80% { transform: translateX(1px); }
      90% { transform: translateX(0px); }
    }

    .overlay { position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; align-items:center; justify-content:center; z-index:50; }
    .overlay.show { display:flex; }
    .modal { width:86%; max-width:360px; background:#fff; border-radius:18px; padding:16px; text-align:center; box-shadow:0 14px 48px rgba(0,0,0,.25); }
    .modal h2{ margin:0 0 8px; }
    .modal p{ margin:0 0 12px; color:#334155; }
    .btn { border:0; border-radius:10px; padding:10px 14px; font-weight:800; background:#0ea5e9; color:#fff; }
  </style>
</head>
<body>
  <div class="phone" id="app">
    <header>
      <img src="school-logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
      Ø£Ø³Ø±Ø© Ù…Ø§Ø¯Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø¨Ù…Ø¯Ø±Ø³Ø© Ø§Ù„ÙØ§Ø±ÙˆÙ‚ Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ â€“ ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø¨Ø±ÙŠÙ…ÙŠ
      <div class="subtitle">Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„ØµÙ Ø§Ù„Ø«Ø§Ù…Ù† â€“ Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª</div>
    </header>

    <div class="topbar">
      <div class="pill">Ø§Ù„Ù†Ù‚Ø§Ø·: <b id="score">Ù </b></div>
      <button id="restart" class="btn" style="padding:6px 10px; font-size:12px;">Ø¥Ø¹Ø§Ø¯Ø©</button>
    </div>
    <div id="progressWrap"><div id="progress"></div></div>

    <div id="board" class="board" aria-live="polite">
      <div class="col" id="questionsCol" aria-label="Ø£Ø³Ø¦Ù„Ø©"></div>
      <div class="col" id="answersCol" aria-label="Ø¥Ø¬Ø§Ø¨Ø§Øª"></div>
    </div>

    <div id="finish" class="overlay" role="dialog" aria-modal="true">
      <div class="modal">
        <h2>ğŸ‰ Ø£Ø­Ø³Ù†Øª!</h2>
        <p>Ø£Ù†Ù‡ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²ÙˆØ§Ø¬. Ù…Ø¬Ù…ÙˆØ¹ Ù†Ù‚Ø§Ø·Ùƒ: <b id="finalScore">Ù </b></p>
        <button id="playAgain" class="btn">Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
      </div>
    </div>
  </div>

  <script>
    // --- Ø£Ø²ÙˆØ§Ø¬ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©/Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù‡Ù†Ø¯ÙŠØ© ---
    const ALL_PAIRS = [
      { id: 1, q: 'Ù‚Ø±Ù‘Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ù¢Ù¥Ù«Ù¦Ù¨ Ø¥Ù„Ù‰ Ù…Ù†Ø²Ù„ØªÙŠÙ† Ø¹Ø´Ø±ÙŠØªÙŠÙ†', a: 'Ù¢Ù¥Ù«Ù¦Ù¨' },
      { id: 2, q: 'Ù‚Ø±Ù‘Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ù£Ù«Ù¡Ù¤Ù¡Ù¥ Ø¥Ù„Ù‰ Ù…Ù†Ø²Ù„ØªÙŠÙ† Ø¹Ø´Ø±ÙŠØªÙŠÙ†', a: 'Ù£Ù«Ù¡Ù¤' },
      { id: 3, q: 'Ø¹Ø¨Ù‘Ø± Ø¹Ù† Ù Ù«Ù Ù Ù¤Ù¥Ù¢ Ø¨Ø±Ù‚Ù…ÙŠÙ† Ù…Ø¹Ù†ÙˆÙŠÙŠÙ†', a: 'Ù Ù«Ù Ù Ù¤Ù¥' },
      { id: 4, q: 'Ù‚Ø±Ù‘Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ù¡Ù¨Ù«Ù£Ù§Ù¤ Ø¥Ù„Ù‰ Ù£ Ø£Ø±Ù‚Ø§Ù… Ù…Ø¹Ù†ÙˆÙŠØ©', a: 'Ù¡Ù¨Ù«Ù¤' },
      { id: 5, q: 'Ø¹Ø¨Ù‘Ø± Ø¹Ù† Ù¦Ù¥Ù§Ù© Ø¨Ø±Ù‚Ù…ÙŠÙ† Ù…Ø¹Ù†ÙˆÙŠÙŠÙ†', a: 'Ù¦Ù¦Ù Ù ' },
      { id: 6, q: 'Ù‚Ø±Ù‘Ø¨ Ø§Ù„Ø¹Ø¯Ø¯ Ù Ù«Ù©Ù©Ù©Ù¥ Ø¥Ù„Ù‰ Ù£ Ù…Ù†Ø§Ø²Ù„ Ø¹Ø´Ø±ÙŠØ©', a: 'Ù¡Ù«Ù Ù Ù ' },
    ];

    // Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
    let selectedQ = null; // id Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø®ØªØ§Ø±
    let selectedA = null; // id Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
    let matched = new Set();
    let score = 0;

    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    const qCol = $('#questionsCol');
    const aCol = $('#answersCol');

    function toHindi(n){
      const map = ['Ù ','Ù¡','Ù¢','Ù£','Ù¤','Ù¥','Ù¦','Ù§','Ù¨','Ù©'];
      return String(n).split('').map(ch => /[0-9]/.test(ch) ? map[+ch] : ch).join('');
    }

    function shuffle(arr){ return arr.map(x=>[Math.random(),x]).sort((a,b)=>a[0]-b[0]).map(x=>x[1]); }

    function updateHUD(){
      $('#score').textContent = toHindi(score);
      const pct = Math.round( (matched.size / ALL_PAIRS.length) * 100 );
      $('#progress').style.width = pct + '%';
    }

    function resetSelection(){
      selectedQ = null; selectedA = null;
      $$('.card.selected').forEach(c=>c.classList.remove('selected'));
    }

    function tapQuestion(card){
      if (card.classList.contains('matched')) return;
      $$('#questionsCol .card').forEach(c=>c.classList.remove('selected'));
      card.classList.add('selected');
      selectedQ = Number(card.dataset.id);
      tryMatch();
    }

    function tapAnswer(card){
      if (card.classList.contains('matched')) return;
      $$('#answersCol .card').forEach(c=>c.classList.remove('selected'));
      card.classList.add('selected');
      selectedA = Number(card.dataset.id);
      tryMatch();
    }

    function tryMatch(){
      if(!selectedQ || !selectedA) return;
      const qEl = $(`#questionsCol .card[data-id="${selectedQ}"]`);
      const aEl = $(`#answersCol .card[data-id="${selectedA}"]`);
      if (selectedQ === selectedA){
        qEl.classList.add('matched');
        aEl.classList.add('matched');
        matched.add(selectedQ);
        score += 1;
        updateHUD();
        resetSelection();
        if (matched.size === ALL_PAIRS.length){
          $('#finalScore').textContent = toHindi(score);
          $('#finish').classList.add('show');
        }
      } else {
        qEl.classList.add('bad'); aEl.classList.add('bad');
        setTimeout(()=>{ qEl.classList.remove('bad'); aEl.classList.remove('bad'); }, 400);
        resetSelection();
      }
    }

    function render(){
      qCol.innerHTML = ''; aCol.innerHTML = '';
      const answers = shuffle(ALL_PAIRS);
      ALL_PAIRS.forEach(p=>{
        const qc = document.createElement('div');
        qc.className = 'card tap'; qc.dataset.id = p.id; qc.textContent = p.q;
        qc.addEventListener('click', ()=>tapQuestion(qc));
        qCol.appendChild(qc);
      });
      answers.forEach(p=>{
        const ac = document.createElement('div');
        ac.className = 'card tap small'; ac.dataset.id = p.id; ac.textContent = p.a;
        ac.addEventListener('click', ()=>tapAnswer(ac));
        aCol.appendChild(ac);
      });
    }

    function start(){
      matched.clear(); score = 0; resetSelection(); updateHUD(); render();
      $('#finish').classList.remove('show');
    }

    $('#restart').addEventListener('click', start);
    $('#playAgain').addEventListener('click', start);

    // ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ
    start();
  </script>
</body>
</html>
